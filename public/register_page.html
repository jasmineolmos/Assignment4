<!-- game_logined.html by Jasmine Olmos, Eric Yang, and Kevin Lee--> 
<script src="user_data.json" type="text/javascript"></script>

<script>
  let params = (new URL(document.location)).searchParams; //gives access to the get decoded query arguments in the URL.
  window.onload = function () { //when the page loads
    if (params.has("RegFullnameError")) { //if has RegFullnameError from query
      regError = params.get("RegFullnameError"); //get the errors from the query and store into variable
      nameLong = '<font color="red">Full Name must be 30 characters or less</font>'; //assigns same error message into a variable
      nameNoLetter = '<font color="red">Full Name must be letters only</font>'; //assigns same error message into a variable
      if (regError == nameLong) { //if the error received is the same as the error stored in the variable
        document.getElementById("regfullname").innerHTML = regError; //set inner html to display the register error
      }
      if (regError == nameNoLetter) { //if the error received is the same as the error stored in the variable
        document.getElementById("regfullname").innerHTML = regError; //set inner html to displayn the register error
      }
    }
    if (params.has("RegPasswordError")) { //if has RegPasswordError from query 
      regError2 = params.get("RegPasswordError"); //get the errors from the query and store into variable
      passNoMatch = '<font color="red">Password DOES NOT Match</font>'; //assigns same error into a variable
      passLength = '<font color="red">Password must be at least six characters</font>'; //assigns same error into a variable
      if (regError2 == passLength) { //if the error received is the same as the error stored in the variable
        document.getElementById("regpassword").innerHTML = regError2; //set inner html to displayn the register error
      }
      if (regError2 == passNoMatch) { //if the error received is the same as the error stored in the variable
        document.getElementById("regrepeatpassword").innerHTML = regError2; //set inner html to displayn the register error
      }
    }
    if (params.has("RegUsernameError")) { //if has RegUsernameError from query 
      regError3 = params.get("RegUsernameError"); //get the errors from the query and store into variable
      useNumLet = '<font color="red">Username must be characters and numbers only</font>'; //assigns same error into a variable
      useLong = '<font color="red">Username must be ten characters or less</font>'; //assigns same error into a variable
      useShort = '<font color="red">Username must be at least four characters</font>'; //assigns same error into a variable
      useTaken = '<font color="red">User already registered</font>'; //assigns same error into a variable
      if (regError3 == useNumLet) { //if the error received is the same as the error stored in the variable
        document.getElementById("regusername").innerHTML = regError3; //set inner html to displayn the register error
      }
      if (regError3 == useLong) { //if the error received is the same as the error stored in the variable
        document.getElementById("regusername").innerHTML = regError3; //set inner html to displayn the register error
      }
      if (regError3 == useShort) { //if the error received is the same as the error stored in the variable
        document.getElementById("regusername").innerHTML = regError3; //set inner html to displayn the register error
      }
      if (regError3 == useTaken) {
        document.getElementById("regusername").innerHTML = regError3; //set inner html to displayn the register error
      }
    }
    if (params.has("RegEmailError")) { //if has RegEmailError from query
      regError4 = params.get("RegEmailError"); //get the errors from the query and store into variable
      emailInvalid = '<font color="red">Email is invalid</font>'; //assigns same error into a variable
      if (regError4 == emailInvalid) { //if the error received is the same as the error stored in the variable
        document.getElementById("regemail").innerHTML = regError4; //set inner html to displayn the register error
      }
    }
    if (params.has("stickRegFullname")) { //if has stickRegFullname
      showRegFullname = params.get("stickRegFullname"); //get the info from the query and store into variable
      document.getElementById("regfullnamebox").value = showRegFullname; //sets the value to the inoput of the useer
    }
    if (params.has("stickUsername")) { //if has stickRegFullname
      showUsername = params.get("stickUsername"); //get the info from the query and store into variable
      document.getElementById("regusernamebox").value = showUsername; //sets the value to the input of the user
    }
    if (params.has("stickEmail")) { //if has stickEmail
      showEmail = params.get("stickEmail"); //get the info from the query and store into variable
      document.getElementById("regemailbox").value = showEmail; //set the value to the input of the user
    }
  }
</script>
<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>

  <meta charset="utf-8">
  <title>Register</title>
  <link rel="stylesheet" href="index.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" charset="utf-8"></script>
</head>

<body>
  <!-- Each div has input box for related Fullname/Username/Password/Email/ -->
  <form id="register_form" class="register-form" method="POST">
    <h1>Sign Up</h1>
    <div class="txtb">
      <p>Full Name</p>
      <input id="regfullnamebox" type="text" name="fullname" required>
    </div>
    <div id="regfullname"></div>
    
    <div class="txtb">
      <p>Username</p>
      <input id="regusernamebox" type="text" name="username" required>
    </div>
    <div id="regusername"></div>

    <div class="txtb">
      <p>Email</p>
      <input id="regemailbox" type="text" name="email" required>

    </div>
    <div id="regemail"></div>

    <div class="txtb">
        <p>Password</p>
      <input type="password" name="password" required>

    </div>
    <div id="regpassword"></div>

    <div class="txtb">
      <p>Retype Password</p>
      <input type="password" name="repeat_password" required>
    </div>
    <div id="regrepeatpassword"></div>
    <br>
    <input name="register_submit_button" type="submit" class="logbtn" value="Register">
  </form>


</html>
<script> 
  register_form.action = "/register_form" + document.location.search;
</script>